"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([[2112],{31025:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>l});var s=r(45760),i=r(74848),t=r(28453);const a={slug:"talk-about-redis-api",title:"jedis\u5b9e\u64cdredisAPI",authors:["jiguanchen"],tags:["zhongjianjian","redis"]},o=void 0,d={authorsImageUrls:[void 0]},l=[{value:"\u4e00\u3001\u4f7f\u7528Java\u64cd\u4f5cRedis\u65b9\u5f0f",id:"\u4e00\u4f7f\u7528java\u64cd\u4f5credis\u65b9\u5f0f",level:2},{value:"\u4e8c\u3001\u4eb2\u7b14\u6f14\u7ec3Redis\u4e94\u5927\u5e38\u7528\u547d\u4ee4\u7ec4",id:"\u4e8c\u4eb2\u7b14\u6f14\u7ec3redis\u4e94\u5927\u5e38\u7528\u547d\u4ee4\u7ec4",level:2},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:2}];function c(n){const e={a:"a",code:"code",em:"em",h2:"h2",img:"img",p:"p",pre:"pre",...(0,t.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(e.p,{children:["\u4e3a\u4e86\u52a0\u6df1\u5bf9\u539f\u751fredis\u547d\u4ee4\u7684\u8ba4\u8bc6\uff0c\u6211\u53c8\u624b\u5199\u4e86\u8fb9\u901a\u8fc7jedis\u8c03\u7528\u539f\u751fredis API \u7684\u5b9e\u64cd\uff0c",(0,i.jsxs)(e.em,{children:["Redis\u547d\u4ee4\u5341\u5206\u4e30\u5bcc\uff0c\u5305\u62ec\u7684\u547d\u4ee4\u7ec4\u6709Cluster\u3001Connection\u3001Geo\u3001Hashes\u3001HyperLogLog\u3001Keys\u3001Lists\u3001Pub/Sub\u3001Scripting\u3001Server\u3001Sets\u3001Sorted Sets\u3001Strings\u3001Transactions\u4e00\u517114\u4e2aredis\u547d\u4ee4\u7ec4\u4e24\u767e\u591a\u4e2aredis\u547d\u4ee4\uff0cRedis\u4e2d\u6587\u547d\u4ee4\u5927\u5168\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u68c0\u7d22\u529f\u80fd\u5feb\u901f\u67e5\u627e\u547d\u4ee4\uff0c\u5df2\u4e0b\u662f\u5168\u90e8\u5df2\u77e5\u7684redis\u547d\u4ee4\u5217\u8868\u3002\u5982\u679c\u60a8\u6709\u5174\u8da3\u7684\u8bdd\u4e5f\u53ef\u4ee5\u67e5\u770b\u6211\u4eec\u7684",(0,i.jsx)(e.a,{href:"http://www.redis.cn/map.html",children:"\u7f51\u7ad9\u7ed3\u6784\u56fe"}),",\u5b83\u4ee5\u8282\u70b9\u56fe\u7684\u5f62\u5f0f\u5c55\u793a\u4e86\u6240\u6709redis\u547d\u4ee4\u3002"]})]}),"\n",(0,i.jsxs)(e.p,{children:["Redis\u5b98\u7f51\uff1a",(0,i.jsx)(e.a,{href:"https://redis.io/",children:"https://redis.io/"})]}),"\n",(0,i.jsx)(e.h2,{id:"\u4e00\u4f7f\u7528java\u64cd\u4f5credis\u65b9\u5f0f",children:"\u4e00\u3001\u4f7f\u7528Java\u64cd\u4f5cRedis\u65b9\u5f0f"}),"\n",(0,i.jsx)(e.p,{children:"1\u3001Jedis"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-tex",children:"Jedis \u662f\u76f4\u8fde\u6a21\u5f0f\uff0c\u5728\u591a\u4e2a\u7ebf\u7a0b\u95f4\u5171\u4eab\u4e00\u4e2a Jedis \u5b9e\u4f8b\u65f6\u662f\u7ebf\u7a0b\u4e0d\u5b89\u5168\u7684,\u9700\u8981\u4f7f\u7528\u8fde\u63a5\u6c60\r\n\r\n\u5176API\u63d0\u4f9b\u4e86\u6bd4\u8f83\u5168\u9762\u7684Redis\u547d\u4ee4\u7684\u652f\u6301\uff0c\u76f8\u6bd4\u4e8e\u5176\u4ed6Redis \u5c01\u88c5\u6846\u67b6\u66f4\u52a0\u539f\u751f\r\n\r\nJedis\u4e2d\u7684\u65b9\u6cd5\u8c03\u7528\u662f\u6bd4\u8f83\u5e95\u5c42\u7684\u66b4\u9732\u7684Redis\u7684API\uff0cJava\u65b9\u6cd5\u57fa\u672c\u548cRedis\u7684API\u4fdd\u6301\u7740\u4e00\u81f4\r\n\r\n\u4f7f\u7528\u963b\u585e\u7684I/O\uff0c\u65b9\u6cd5\u8c03\u7528\u540c\u6b65\uff0c\u7a0b\u5e8f\u6d41\u9700\u8981\u7b49\u5230socket\u5904\u7406\u5b8cI/O\u624d\u80fd\u6267\u884c\uff0c\u4e0d\u652f\u6301\u5f02\u6b65\u64cd\u4f5c\n"})}),"\n",(0,i.jsx)(e.p,{children:"2\u3001Lettuce"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\u9ad8\u7ea7Redis\u5ba2\u6237\u7aef\uff0c\u7528\u4e8e\u7ebf\u7a0b\u5b89\u5168\u540c\u6b65\uff0c\u5f02\u6b65\u54cd\u5e94\r\n\r\n\u57fa\u4e8eNetty\u7684\u7684\u4e8b\u4ef6\u9a71\u52a8\uff0c\u53ef\u4ee5\u5728\u591a\u4e2a\u7ebf\u7a0b\u95f4\u5e76\u53d1\u8bbf\u95ee, \u901a\u8fc7\u5f02\u6b65\u7684\u65b9\u5f0f\u53ef\u4ee5\u66f4\u597d\u7684\u5229\u7528\u7cfb\u7edf\u8d44\u6e90\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u6211\u5c31\u7528Jedis\u64cd\u4f5c\u4e86....."}),"\n",(0,i.jsx)(e.h2,{id:"\u4e8c\u4eb2\u7b14\u6f14\u7ec3redis\u4e94\u5927\u5e38\u7528\u547d\u4ee4\u7ec4",children:"\u4e8c\u3001\u4eb2\u7b14\u6f14\u7ec3Redis\u4e94\u5927\u5e38\u7528\u547d\u4ee4\u7ec4"}),"\n",(0,i.jsx)(e.p,{children:"1\u3001\u4f7f\u7528\u8fde\u63a5\u6c60"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'package space.jachen.jedis;\r\n\r\nimport redis.clients.jedis.Jedis;\r\nimport redis.clients.jedis.JedisPool;\r\nimport redis.clients.jedis.JedisPoolConfig;\r\n\r\n/**\r\n *\r\n * TODO\uff1a \u6d4b\u8bd5jedis\u4e0eredis\u5efa\u7acb\u8fde\u63a5  \u4f7f\u7528\u7ebf\u7a0b\u6c60\r\n *\r\n * @author JaChen\r\n * @date 2022/12/10 15:37\r\n */\r\npublic class Test2 {\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        // \u5efa\u7acb\u8fde\u63a5\u6c60\u914d\u7f6e\u4fe1\u606f\r\n        JedisPoolConfig poolConfig = new JedisPoolConfig();\r\n        poolConfig.setMaxTotal(200);\r\n        poolConfig.setMaxIdle(32);\r\n        poolConfig.setMaxWaitMillis(10*100);\r\n        poolConfig.setBlockWhenExhausted(true);\r\n        poolConfig.setTestOnBorrow(true);\r\n\r\n        // \u521b\u5efa\u4e00\u4e2a\u8fde\u63a5\u6c60\r\n        JedisPool pool = new JedisPool(poolConfig, "192.168.253.128", 6379);\r\n\r\n        // \u4ece\u8fde\u63a5\u6c60\u83b7\u53d6\u4e00\u4e2a\u73b0\u6210\u7684\u8fde\u63a5\r\n        Jedis jedis = pool.getResource();\r\n        System.out.println("jedis = " + jedis);\r\n\r\n        // \u4e0d\u4f7f\u7528\u7684\u65f6\u5019\u653e\u56de\u8fde\u63a5\u6c60\r\n        jedis.close();\r\n\r\n\r\n    }\r\n\r\n\r\n}\n'})}),"\n",(0,i.jsx)(e.p,{children:"2\u3001\u64cd\u4f5cString"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'package space.jachen.jedis;\r\n\r\nimport redis.clients.jedis.Jedis;\r\nimport redis.clients.jedis.JedisPool;\r\nimport redis.clients.jedis.JedisPoolConfig;\r\n\r\n/**\r\n *\r\n * @author JaChen\r\n * @date 2022/12/10 15:41\r\n */\r\npublic class TestString {\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        // 1\u3001\u5efa\u7acb\u8fde\u63a5\u6c60\u914d\u7f6e\u4fe1\u606f\r\n        JedisPoolConfig poolConfig = new JedisPoolConfig();\r\n        poolConfig.setMaxTotal(200);\r\n        poolConfig.setMaxIdle(32);\r\n        poolConfig.setMaxWaitMillis(10*100);\r\n        poolConfig.setBlockWhenExhausted(true);\r\n        poolConfig.setTestOnBorrow(true);\r\n\r\n        // 2\u3001\u521b\u5efa\u4e00\u4e2a\u8fde\u63a5\u6c60\r\n        JedisPool pool = new JedisPool(poolConfig, "192.168.253.128", 6379);\r\n\r\n        // 3\u3001\u4ece\u8fde\u63a5\u6c60\u83b7\u53d6\u4e00\u4e2a\u73b0\u6210\u7684\u8fde\u63a5\r\n        Jedis jedis = pool.getResource();\r\n        System.out.println("jedis = " + jedis);\r\n\r\n        // 4\u3001\u64cd\u4f5cString\r\n        System.out.println("===============String==============");\r\n        // TODO\uff1a\u5b58\u50a8\u5b57\u7b26\u4e32\u7684\u7c7b\u578b\uff0ckey-value\r\n        //  notice:\r\n        //  1\u3001\u503c\u7684\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc7512 MB\r\n        //  2\u3001key\u547d\u540d\u89c4\u8303\uff0c\u4e0d\u8981\u8fc7\u957f\uff0c\u5192\u53f7\u5206\u5272\uff0c\u4e1a\u52a1\u540d:\u8868\u540d:ID\r\n\r\n        // TODO: \u5e94\u7528 \uff1a\r\n        //  1\u3001\u9a8c\u8bc1\u7801\r\n        //  2\u3001\u8ba1\u65f6\u5668\u3001\u53d1\u53f7\u5668\r\n        //  3\u3001\u91cd\u590d\u8ba2\u5355\u63d0\u4ea4\u4ee4\u724c\r\n        //  4\u3001\u70ed\u70b9\u5546\u54c1\u5361\u7247(\u5e8f\u5217\u5316\u5bf9\u8c61\u5b58\u50a8)\r\n        //  5\u3001\u5206\u5e03\u5f0f\u9501\r\n        String setName = jedis.set("name", "jachen");\r\n        System.out.println("setName = " + setName);\r\n        System.out.println(jedis.get("name"));\r\n\r\n        jedis.set("age","18");\r\n        System.out.println(jedis.get("age"));\r\n\r\n        // incr \u5bf9\u5e94 \u7684\u503c \u8fdb\u884c\u52a01\u64cd\u4f5c\uff0c\u5e76\u8fd4\u56de\u65b0\u503c\u3002\r\n        jedis.incr("age");\r\n        System.out.println(jedis.get("age"));\r\n\r\n        // \u5c06key\u5bf9\u5e94\u7684\u6570\u5b57\u52a0increment\u3002(\u5982\u679ckey\u4e0d\u5b58\u5728\uff0c\u64cd\u4f5c\u4e4b\u524d\uff0ckey\u4f1a\u88ab\u7f6e\u4e3a\u96f6\u3002)\r\n        jedis.incrBy("age",10);\r\n        System.out.println(jedis.get("age"));\r\n\r\n        jedis.set("cart","887766");\r\n        System.out.println(jedis.get("cart"));\r\n\r\n        // \u6279\u91cf\u8bbe\u7f6e\u6216\u83b7\u53d6\u591a\u4e2akey\u7684\u503c\r\n        jedis.mset("tell", "110", "weight", "65kg");\r\n        System.out.println(jedis.mget("tell","weight"));\r\n\r\n        jedis.setnx("sex","0");\r\n        System.out.println(jedis.get("sex"));\r\n\r\n        // \u539f\u5b50\u6027\u64cd\u4f5c\r\n        // \u5c06key\u8bbe\u7f6e\u503c\u4e3avalue\uff0c\u5982\u679ckey\u4e0d\u5b58\u5728\u7b49\u540cSET\u547d\u4ee4\u3002\r\n        jedis.msetnx("k1","v1","k2","v2","sex","0");\r\n        System.out.println(jedis.mget("k1","k2","sex"));\r\n\r\n        // \u5f53key\u5b58\u5728\u65f6\u4ec0\u4e48\u4e5f\u4e0d\u505a,  \u662fset if not exists\u7684\u7b80\u5199\u3002\r\n        jedis.msetnx("k1","v1","k2","v2","sex","1");\r\n        System.out.println(jedis.mget("k1","k2","sex"));\r\n\r\n        // \u8bbe\u7f6ekey\u5bf9\u5e94\u5b57\u7b26\u4e32value\uff0c\r\n        // \u5e76\u4e14\u8bbe\u7f6ekey\u5728\u7ed9\u5b9a\u7684seconds\u65f6\u95f4\u4e4b\u540e\u8d85\u65f6\u8fc7\u671f,\u539f\u5b50\u64cd\u4f5c\r\n        jedis.setex("car",2,"887766");\r\n        System.out.println(jedis.get("car"));\r\n        try {\r\n            Thread.sleep(3000);\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        System.out.println(jedis.get("car"));\r\n\r\n        // 5\u3001\u4e0d\u4f7f\u7528\u7684\u65f6\u5019\u653e\u56de\u8fde\u63a5\u6c60\r\n        jedis.close();\r\n\r\n    }\r\n}\r\n\n'})}),"\n",(0,i.jsx)(e.p,{children:"\u8fd0\u884c\u7ed3\u679c\uff1a"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{alt:"image-20221210231902515",src:r(45731).A+"",width:"804",height:"400"})}),"\n",(0,i.jsx)(e.p,{children:"3\u3001\u64cd\u4f5cList"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'package space.jachen.jedis;\r\n\r\nimport redis.clients.jedis.Jedis;\r\n\r\nimport java.util.List;\r\n\r\n/**\r\n * @author JaChen\r\n * @date 2022/12/10 21:05\r\n */\r\npublic class TestList {\r\n\r\n    public static void main(String[] args) {\r\n\r\n\r\n        // 1\u3001\u83b7\u53d6\u4e00\u4e2aJedis\u8fde\u63a5\r\n        Jedis jedis = new Jedis("192.168.253.128",6379);\r\n\r\n        // 2\u3001\u64cd\u4f5cList\r\n        // TODO: \u5b57\u7b26\u4e32\u5217\u8868\uff0c\u6309\u7167\u63d2\u5165\u987a\u5e8f\u6392\u5e8f\r\n        //  \u5b58\u50a8\u7ed3\u6784\uff1a\u53cc\u5411\u94fe\u8868\uff0c\u63d2\u5165\u5220\u9664\u65f6\u95f4\u590d\u6742\u5ea6O(1)\u5feb,\u67e5\u627e\u4e3aO(n)\u6162\r\n        //  notice\uff1a\r\n        //  1\u3001\u901a\u5e38\u6dfb\u52a0\u4e00\u4e2a\u5143\u7d20\u5230\u5217\u8868\u7684\u5934\u90e8\uff08\u5de6\u8fb9\uff09\u6216\u8005\u5c3e\u90e8\uff08\u53f3\u8fb9\uff09\r\n        //  2\u3001\u5b58\u50a8\u7684\u90fd\u662fstring\u5b57\u7b26\u4e32\u7c7b\u578b\r\n        //  3\u3001\u652f\u6301\u5206\u9875\u64cd\u4f5c\uff0c\u9ad8\u5e76\u53d1\u9879\u76ee\u4e2d\uff0c\u7b2c\u4e00\u9875\u6570\u636e\u90fd\u662f\u6765\u6e90list\uff0c\u7b2c\u4e8c\u9875\u548c\u66f4\u591a\u4fe1\u606f\u5219\u662f\u901a\u8fc7\u6570\u636e\u5e93\u52a0\u8f7d\r\n        //  4\u3001\u4e00\u4e2a\u5217\u8868\u6700\u591a\u53ef\u4ee5\u5305\u542b 232 - 1 \u4e2a\u5143\u7d20 (4294967295, \u6bcf\u4e2a\u5217\u8868\u4e0d\u8d85\u8fc740\u4ebf\u4e2a\u5143\u7d20)\r\n\r\n        // TODO: \u5e94\u7528\uff1a\r\n        //  1\u3001\u7b80\u5355\u961f\u5217\r\n        //  2\u3001\u6700\u65b0\u8bc4\u8bba\u5217\u8868\r\n        //  3\u3001\u975e\u5b9e\u65f6\u6392\u884c\u699c\uff1a\u5b9a\u65f6\u8ba1\u7b97\u699c\u5355\uff0c\u5982\u624b\u673a\u65e5\u9500\u699c\u5355\r\n        System.out.println("===============List===============");\r\n\r\n        // \u2460 \u5c06\u4e00\u4e2a\u6216\u591a\u4e2a\u503c\u63d2\u5165\u5230\u5217\u8868\u5934\u90e8  key value1 [value2]\r\n        jedis.lpush("phone","mate5","iphone14","iphone11","iphone5s");\r\n        System.out.println(jedis.llen("phone"));\r\n        System.out.println(jedis.lrange("phone",0,-1));\r\n\r\n        // \u2461 \u79fb\u9664\u5e76\u83b7\u53d6\u5217\u8868\u6700\u540e\u4e00\u4e2a\u5143\u7d20\r\n        String rpop = jedis.rpop("phone");\r\n        System.out.println("rpop = " + rpop);\r\n\r\n        // \u2462 \u5728key\u5bf9\u5e94\u7684list\u7684\u5c3e\u90e8\u6dfb\u52a0\u4e00\u4e2a\u5143\u7d20\r\n        jedis.rpush("netbook","DELL","Mac","\u5916\u661f\u4eba");\r\n        System.out.println(jedis.lrange("netbook",0,-1));\r\n\r\n        // \u2463 \u4ecekey\u5bf9\u5e94\u7684list\u7684\u5c3e\u90e8\u5220\u9664\u4e00\u4e2a\u5143\u7d20\uff0c\u5e76\u8fd4\u56de\u8be5\u5143\u7d20\r\n        System.out.println(jedis.lpop("netbook"));\r\n\r\n        // \u2464 \u79fb\u51fa\u5e76\u83b7\u53d6\u5217\u8868\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\uff0c\r\n        // \u5982\u679c\u5217\u8868\u6ca1\u6709\u5143\u7d20\u4f1a\u963b\u585e\u5217\u8868\u76f4\u5230\u7b49\u5f85\u8d85\u65f6\u6216\u53d1\u73b0\u53ef\u5f39\u51fa\u5143\u7d20\u4e3a\u6b62\r\n        // BRPOP LIST1 LIST2 .. LISTN TIMEOUT\r\n        jedis.del("netbook","iphone");\r\n        System.out.println(jedis.lrange("iphone",0,-1));\r\n        jedis.rpush("iphone","a","b","c");\r\n        List<String> list = jedis.brpop("iphone", "netbook", "1");\r\n        for (String s : list) {\r\n            System.out.println(s);\r\n        }\r\n\r\n        // \u2465 \u79fb\u9664\u5143\u7d20,\u53ef\u4ee5\u6307\u5b9a\u79fb\u9664\u4e2a\u6570\r\n        jedis.lrem("iphone",1,"a");\r\n        System.out.println(jedis.lrange("iphone",0,-1));\r\n\r\n        // 3\u3001\u5173\u95ed\u8fde\u63a5\r\n        jedis.close();\r\n\r\n    }\r\n\r\n}\r\n\n'})}),"\n",(0,i.jsx)(e.p,{children:"\u8fd0\u884c\u7ed3\u679c\uff1a"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{alt:"image-20221210232207004",src:r(6461).A+"",width:"805",height:"278"})}),"\n",(0,i.jsx)(e.p,{children:"4\u3001\u64cd\u4f5cSet"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'package space.jachen.jedis;\r\n\r\nimport redis.clients.jedis.Jedis;\r\n\r\nimport java.util.List;\r\nimport java.util.Set;\r\n\r\n/**\r\n * @author JaChen\r\n * @date 2022/12/10 21:40\r\n */\r\npublic class TestSet {\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        // 1\u3001\u83b7\u53d6\u4e00\u4e2aJedis\u8fde\u63a5\r\n        Jedis jedis = new Jedis("192.168.253.128",6379);\r\n\r\n        // TODO: \u5c06\u4e00\u4e2a\u6216\u591a\u4e2a\u6210\u5458\u5143\u7d20\u52a0\u5165\u5230\u96c6\u5408\u4e2d\uff0c\u5df2\u7ecf\u5b58\u5728\u4e8e\u96c6\u5408\u7684\u6210\u5458\u5143\u7d20\u5c06\u88ab\u5ffd\u7565\r\n        //  notice: \u96c6\u5408\u662f\u901a\u8fc7\u54c8\u5e0c\u8868\u5b9e\u73b0\u7684\r\n\r\n        // TODO: \u5e94\u7528\uff1a\r\n        //  1\u3001\u53bb\u91cd\r\n        //  2\u3001\u793e\u4ea4\u5e94\u7528\u5173\u6ce8\u3001\u7c89\u4e1d\u3001\u5171\u540c\u597d\u53cb\r\n        //  3\u3001\u7edf\u8ba1\u7f51\u7ad9\u7684PV\u3001UV\u3001IP\r\n        //  4\u3001\u5927\u6570\u636e\u91cc\u9762\u7684\u7528\u6237\u753b\u50cf\u6807\u7b7e\u96c6\u5408\r\n        // 2\u3001\u64cd\u4f5cSet\r\n        System.out.println("===============Set==============");\r\n\r\n        // \u2460 \u6dfb\u52a0\u4e00\u4e2a\u6216\u591a\u4e2a\u6307\u5b9a\u7684member\u5143\u7d20\u5230\u96c6\u5408\u7684 key\u4e2d.\r\n        // \u6307\u5b9a\u7684\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u5143\u7d20member \u5982\u679c\u5df2\u7ecf\u5728\u96c6\u5408key\u4e2d\u5b58\u5728\u5219\u5ffd\u7565\r\n        jedis.sadd("user1","u1","beijing","18","iphone11");\r\n        jedis.sadd("user2","u2","shanghai","19","iphone12");\r\n        jedis.sadd("user3","u3","beijing","19","iphone13");\r\n\r\n        // \u2461 \u8fd4\u56de\u96c6\u5408\u5b58\u50a8\u7684key\u7684\u57fa\u6570 (\u96c6\u5408\u5143\u7d20\u7684\u6570\u91cf).\r\n        System.out.println(jedis.scard("user1"));\r\n        System.out.println(jedis.scard("user2"));\r\n        System.out.println(jedis.scard("user3"));\r\n\r\n        // \u2462 \u8fd4\u56de\u7684\u96c6\u5408\u5143\u7d20\u662f\u7b2c\u4e00\u4e2akey\u7684\u96c6\u5408\u4e0e\u540e\u9762\u6240\u6709key\u7684\u96c6\u5408\u7684\u5dee\u96c6\r\n        System.out.println(jedis.sdiff("user1", "user2", "user3"));\r\n\r\n        // \u2463 \u8fd4\u56de\u6307\u5b9a\u6240\u6709\u7684\u96c6\u5408\u7684\u6210\u5458\u7684\u4ea4\u96c6.\r\n        System.out.println(jedis.sinter("user1", "user2"));\r\n\r\n        // \u2464 \u8fd4\u56de\u6210\u5458 member \u662f\u5426\u662f\u5b58\u50a8\u7684\u96c6\u5408 key\u7684\u6210\u5458.\r\n        System.out.println(jedis.sismember("user1","beijing"));\r\n\r\n        // \u2465 \u5728key\u96c6\u5408\u4e2d\u79fb\u9664\u6307\u5b9a\u7684\u5143\u7d20. \u5982\u679c\u6307\u5b9a\u7684\u5143\u7d20\u4e0d\u662fkey\u96c6\u5408\u4e2d\u7684\u5143\u7d20\u5219\u5ffd\u7565\r\n        jedis.srem("user1","iphone11");\r\n        System.out.println(jedis.scard("user1"));\r\n\r\n        // \u2466 \u8fd4\u56de\u7ed9\u5b9a\u7684\u591a\u4e2a\u96c6\u5408\u7684\u5e76\u96c6\u4e2d\u7684\u6240\u6709\u6210\u5458.\r\n        Set<String> sunion = jedis.sunion("user1", "user2", "user3");\r\n        for (String s : sunion) {\r\n            System.out.print(s + " ");\r\n        }\r\n        System.out.println();\r\n\r\n        // \u2467 \u8fd4\u56dekey\u96c6\u5408\u6240\u6709\u7684\u5143\u7d20.\r\n        Set<String> user1 = jedis.smembers("user1");\r\n        for (String s : user1) {\r\n            System.out.print(s + " ");\r\n        }\r\n\r\n        // key\u7684\u5b58\u6d3b\u65f6\u95f4\r\n        System.out.println("\\njedis.ttl(\\"user1\\") = " + jedis.ttl("user1"));\r\n\r\n        // 3\u3001\u5173\u95ed\u8fde\u63a5\r\n        jedis.close();\r\n\r\n    }\r\n}\r\n\n'})}),"\n",(0,i.jsx)(e.p,{children:"\u8fd0\u884c\u7ed3\u679c\uff1a"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{alt:"image-20221210232225594",src:r(95395).A+"",width:"656",height:"287"})}),"\n",(0,i.jsx)(e.p,{children:"5\u3001\u64cd\u4f5cHash"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'package space.jachen.jedis;\r\n\r\nimport redis.clients.jedis.Jedis;\r\n\r\nimport java.util.HashMap;\r\n\r\n/**\r\n * @author JaChen\r\n * @date 2022/12/10 22:03\r\n */\r\npublic class TestHash {\r\n\r\n    public static void main(String[] args) {\r\n\r\n\r\n        // 1\u3001\u83b7\u53d6\u4e00\u4e2aJedis\u8fde\u63a5\r\n        Jedis jedis = new Jedis("192.168.253.128",6379);\r\n\r\n\r\n        // 2\u3001Hash\u64cd\u4f5c\r\n        // TODO\uff1astring\u7c7b\u578b\u7684field\u548cvalue\u7684\u6620\u5c04\u8868\uff0chash\u7279\u522b\u9002\u5408\u7528\u4e8e\u5b58\u50a8\u5bf9\u8c61\r\n        //  notice\uff1a\u6bcf\u4e2a hash \u53ef\u4ee5\u5b58\u50a8 232 - 1 \u952e\u503c\u5bf9\uff0840\u591a\u4ebf\uff09\r\n\r\n        // TODO\uff1a\u5e94\u7528:\r\n        //  1\u3001\u8d2d\u7269\u8f66\r\n        //  2\u3001\u7528\u6237\u4e2a\u4eba\u4fe1\u606f\r\n        //  3\u3001\u5546\u54c1\u8be6\u60c5\r\n        System.out.println("===============Hash==============");\r\n\r\n        // \u2460 \u8bbe\u7f6e key \u6307\u5b9a\u7684\u54c8\u5e0c\u96c6\u4e2d\u6307\u5b9a\u5b57\u6bb5\u7684\u503c\r\n        jedis.hset("class","redis","80");\r\n        System.out.println(jedis.hget("class","redis"));\r\n\r\n        HashMap<String, String> hashMap = new HashMap<>();\r\n        hashMap.put("java","100");\r\n        hashMap.put("c++","90");\r\n        hashMap.put("c","96");\r\n        jedis.hmset("class",hashMap);\r\n        // \u2461 \u8fd4\u56de key \u6307\u5b9a\u7684\u54c8\u5e0c\u96c6\u4e2d\u6240\u6709\u7684\u5b57\u6bb5\u548c\u503c\r\n        System.out.println(jedis.hgetAll("class"));\r\n\r\n        // \u2462 \u4ece key \u6307\u5b9a\u7684\u54c8\u5e0c\u96c6\u4e2d\u79fb\u9664\u6307\u5b9a\u7684\u57df\r\n        jedis.hdel("class","c","c++");\r\n        System.out.println(jedis.hgetAll("class"));\r\n        // \u2463 \u8fd4\u56dehash\u91cc\u9762field\u662f\u5426\u5b58\u5728\r\n        System.out.println(jedis.hexists("class","c"));\r\n\r\n        // \u2464 \u589e\u52a0 key \u6307\u5b9a\u7684\u54c8\u5e0c\u96c6\u4e2d\u6307\u5b9a\u5b57\u6bb5\u7684\u6570\u503c,  \u5982\u679c\u662f-1 \u5219\u662f\u9012\u51cf\r\n        // HINCRBY key field increment\r\n        jedis.hincrBy("class","java",-5);\r\n        System.out.println(jedis.hgetAll("class"));\r\n        jedis.hincrBy("class","java",-5);\r\n        System.out.println(jedis.hgetAll("class"));\r\n\r\n        // 3\u3001\u5173\u95edJedis\u8fde\u63a5\r\n        jedis.close();\r\n\r\n    }\r\n\r\n}\r\n\n'})}),"\n",(0,i.jsx)(e.p,{children:"\u8fd0\u884c\u7ed3\u679c\uff1a"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{alt:"image-20221210232256172",src:r(78113).A+"",width:"464",height:"234"})}),"\n",(0,i.jsx)(e.p,{children:"6\u3001\u64cd\u4f5cSortedSet"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-java",children:'package space.jachen.jedis;\r\n\r\nimport redis.clients.jedis.Jedis;\r\n\r\nimport java.util.HashMap;\r\n\r\n/**\r\n * @author JaChen\r\n * @date 2022/12/10 22:36\r\n */\r\npublic class TestSortedSet {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        // 1\u3001\u83b7\u53d6\u4e00\u4e2aJedis\u8fde\u63a5\r\n        Jedis jedis = new Jedis("192.168.253.128",6379);\r\n\r\n\r\n        // 2\u3001\u64cd\u4f5cSortedSet \u53ef\u53ebzSet\r\n        // TODO:\r\n        //  1\u3001\u6709\u5e8f\u96c6\u5408\u53ef\u4ee5\u770b\u505a\u662f\u5728Set\u96c6\u5408\u7684\u7684\u57fa\u7840\u4e0a\u4e3a\u96c6\u5408\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u7ef4\u62a4\u4e86\u4e00\u4e2a\u987a\u5e8f\u503c: score,\r\n        //  \u5b83\u5141\u8bb8\u96c6\u5408\u4e2d\u7684\u5143\u7d20\u53ef\u4ee5\u6309\u7167score\u8fdb\u884c\u6392\u5e8f\r\n        //  2\u3001\u5982\u679c\u67d0\u4e2a\u6210\u5458\u5df2\u7ecf\u662f\u6709\u5e8f\u96c6\u7684\u6210\u5458\uff0c\r\n        //  \u90a3\u4e48\u66f4\u65b0\u8fd9\u4e2a\u6210\u5458\u7684\u5206\u6570\u503c\uff0c\u5206\u6570\u503c\u53ef\u4ee5\u662f\u6574\u6570\u503c\u6216\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570\u3002\r\n        //  3\u3001\u7528\u4e8e\u5c06\u4e00\u4e2a\u6216\u591a\u4e2a\u6210\u5458\u5143\u7d20\u53ca\u5176\u5206\u6570\u503c\u52a0\u5165\u5230\u6709\u5e8f\u96c6\u5f53\u4e2d\r\n        //  notice:\r\n        //  1\u3001\u5e95\u5c42\u4f7f\u7528\u5230\u4e86Ziplist\u538b\u7f29\u5217\u8868\u548c\u201c\u8df3\u8dc3\u8868\u201d\u4e24\u79cd\u5b58\u50a8\u7ed3\u6784\r\n        //  2\u3001\u5982\u679c\u91cd\u590d\u6dfb\u52a0\u76f8\u540c\u7684\u6570\u636e\uff0cscore\u503c\u5c06\u88ab\u53cd\u590d\u8986\u76d6\uff0c\u4fdd\u7559\u6700\u540e\u4e00\u6b21\u4fee\u6539\u7684\u7ed3\u679c\r\n\r\n        // TODO\uff1a\r\n        //  \u5e94\u7528\uff1a\r\n        //  1\u3001\u5b9e\u65f6\u6392\u884c\u699c\uff1a\u5546\u54c1\u70ed\u9500\u699c\u3001\u4f53\u80b2\u7c7b\u5e94\u7528\u70ed\u95e8\u7403\u961f\u3001\u79ef\u5206\u699c\r\n        //  2\u3001\u4f18\u5148\u7ea7\u4efb\u52a1\u3001\u961f\u5217\r\n        //  3\u3001\u670b\u53cb\u5708 \u6587\u7ae0\u70b9\u8d5e-\u53d6\u6d88\uff0c\u903b\u8f91\uff1a\u7528\u6237\u53ea\u80fd\u70b9\u8d5e\u6216\u53d6\u6d88\uff0c\r\n        //  \u7edf\u8ba1\u4e00\u7bc7\u6587\u7ae0\u88ab\u70b9\u8d5e\u4e86\u591a\u5c11\u6b21\uff0c\u53ef\u4ee5\u76f4\u63a5\u53d6\u91cc\u9762\u6709\u591a\u5c11\u4e2a\u6210\u5458\r\n        System.out.println("===============SortedSet==============");\r\n\r\n        // \u2460 \u5411\u6709\u5e8f\u96c6\u5408\u6dfb\u52a0\u4e00\u4e2a\u6216\u591a\u4e2a\u6210\u5458\uff0c\u6216\u8005\u66f4\u65b0\u5df2\u5b58\u5728\u6210\u5458\u7684\u5206\u6570\r\n        jedis.zadd("goods",100,"iPhone14");\r\n\r\n        // \u2461 \u83b7\u53d6\u6709\u5e8f\u96c6\u5408\u7684\u6210\u5458\u6570\r\n        System.out.println(jedis.zcard("goods"));\r\n\r\n        // \u2462 \u6709\u5e8f\u96c6\u5408\u4e2d\u5bf9\u6307\u5b9a\u6210\u5458\u7684\u5206\u6570\u52a0\u4e0a\u589e\u91cf increment\r\n        jedis.zincrby("goods",10,"iPhone14");\r\n        System.out.println(jedis.zscore("goods","iPhone14"));\r\n        jedis.zincrby("goods",10,"iPhone14");\r\n        System.out.println(jedis.zscore("goods","iPhone14"));\r\n\r\n        HashMap<String, Double> hashMap = new HashMap<>();\r\n        hashMap.put("meta8",60D);\r\n        hashMap.put("iPhone12",101D);\r\n        hashMap.put("iPhone6s",30D);\r\n        jedis.zadd("goods",hashMap);\r\n        // \u2463 \u8ba1\u7b97\u5728\u6709\u5e8f\u96c6\u5408\u4e2d\u6307\u5b9a\u533a\u95f4\u5206\u6570\u7684\u6210\u5458\u6570\r\n        System.out.println(jedis.zcount("goods",10,150));\r\n        // \u2464 \u901a\u8fc7\u7d22\u5f15\u533a\u95f4\u8fd4\u56de\u6709\u5e8f\u96c6\u5408\u6307\u5b9a\u533a\u95f4\u5185\u7684\u6210\u5458, \u6210\u5458\u7684\u4f4d\u7f6e\u6309\u5206\u6570\u503c\u9012\u589e(\u4ece\u5c0f\u5230\u5927)\u6765\u6392\u5e8f\r\n        System.out.println(jedis.zrange("goods",0,-1));\r\n        // \u6839\u636escore\u6b63\u5e8f\u8f93\u51fa\r\n        System.out.println(jedis.zrangeByScore("goods",0D,100));\r\n        // \u2465 \u901a\u8fc7\u7d22\u5f15\u533a\u95f4\u8fd4\u56de\u6709\u5e8f\u96c6\u5408\u6307\u5b9a\u533a\u95f4\u5185\u7684\u6210\u5458, \u6210\u5458\u7684\u4f4d\u7f6e\u6309\u5206\u6570\u503c\u9012\u589e(\u4ece\u5927\u5230\u5c0f)\u6765\u6392\u5e8f\r\n        System.out.println(jedis.zrevrange("goods",0,-1));\r\n        // \u2466 \u8fd4\u56de\u6709\u5e8f\u96c6\u5408\u4e2d\u6307\u5b9a\u6210\u5458\u7684\u6392\u540d\uff0c\u6709\u5e8f\u96c6\u6210\u5458\u6309\u5206\u6570\u503c\u9012\u51cf(\u4ece\u5927\u5230\u5c0f)\u6392\u5e8f\r\n        System.out.println(jedis.zrevrank("goods","meta8"));\r\n        // \u2467 \u8fd4\u56de\u6709\u5e8f\u96c6key\u4e2d\u6210\u5458member\u7684\u6392\u540d\u3002\u5176\u4e2d\u6709\u5e8f\u96c6\u6210\u5458\u6309score\u503c\u9012\u589e(\u4ece\u5c0f\u5230\u5927)\u987a\u5e8f\u6392\u5217\r\n        System.out.println(jedis.zrank("goods","meta8"));\r\n\r\n\r\n        // 3\u3001 \u5173\u95edjedis\u8fde\u63a5\r\n        jedis.close();\r\n\r\n\r\n    }\r\n}\r\n\n'})}),"\n",(0,i.jsx)(e.p,{children:"\u8fd0\u884c\u7ed3\u679c\uff1a"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{alt:"image-20221210232340442",src:r(82133).A+"",width:"680",height:"278"})}),"\n",(0,i.jsx)(e.h2,{id:"\u603b\u7ed3",children:"\u603b\u7ed3"}),"\n",(0,i.jsx)(e.p,{children:"\u9664\u4e86\u8981\u4e86\u89e3\u8fd9\u4e9b\u6570\u636e\u7ed3\u6784\u7684\u5e38\u7528\u573a\u666f\u4e4b\u524d\uff0c\u8fd8\u6709\u7ee7\u7eed\u52a0\u6df1\u5bf9\u4ed6\u4eec\u5e95\u5c42\u5b9e\u73b0\u7684\u4e86\u89e3\uff0c\u6bd4\u5982SortedSet\u5e95\u5c42\u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528\u8df3\u8dc3\u8868\u5462\uff1f\u4e3a\u4ec0\u4e48\u4f7f\u7528\u7ea2\u9ed1\u6811\u7b49\u7b49\u3002"})]})}function p(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(c,{...n})}):c(n)}},45731:(n,e,r)=>{r.d(e,{A:()=>s});const s=r.p+"assets/images/image-20221210231902515-afec2d8acfbc609531f330a48ce9eaf6.png"},6461:(n,e,r)=>{r.d(e,{A:()=>s});const s=r.p+"assets/images/image-20221210232207004-8b5b8d44c2b5b0ab278ba1ff89b619d6.png"},95395:(n,e,r)=>{r.d(e,{A:()=>s});const s=r.p+"assets/images/image-20221210232225594-187b2a05c21971eb0aa0a33f84fd95ea.png"},78113:(n,e,r)=>{r.d(e,{A:()=>s});const s=r.p+"assets/images/image-20221210232256172-38f5860d9372b383dbb843c6e5de58af.png"},82133:(n,e,r)=>{r.d(e,{A:()=>s});const s=r.p+"assets/images/image-20221210232340442-63a8d6907d711168cbb838ece464def3.png"},28453:(n,e,r)=>{r.d(e,{R:()=>a,x:()=>o});var s=r(96540);const i={},t=s.createContext(i);function a(n){const e=s.useContext(t);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:a(n.components),s.createElement(t.Provider,{value:e},n.children)}},45760:n=>{n.exports=JSON.parse('{"permalink":"/blog/talk-about-redis-api","editUrl":"https://github.com/Jachen99/Jachen99.github.io/tree/V3.0.0/blog/2022/12-10-Redis\u547d\u4ee4\u7ec4\u4eb2\u7b14.md","source":"@site/blog/2022/12-10-Redis\u547d\u4ee4\u7ec4\u4eb2\u7b14.md","title":"jedis\u5b9e\u64cdredisAPI","description":"\u4e3a\u4e86\u52a0\u6df1\u5bf9\u539f\u751fredis\u547d\u4ee4\u7684\u8ba4\u8bc6\uff0c\u6211\u53c8\u624b\u5199\u4e86\u8fb9\u901a\u8fc7jedis\u8c03\u7528\u539f\u751fredis API \u7684\u5b9e\u64cd\uff0cRedis\u547d\u4ee4\u5341\u5206\u4e30\u5bcc\uff0c\u5305\u62ec\u7684\u547d\u4ee4\u7ec4\u6709Cluster\u3001Connection\u3001Geo\u3001Hashes\u3001HyperLogLog\u3001Keys\u3001Lists\u3001Pub/Sub\u3001Scripting\u3001Server\u3001Sets\u3001Sorted Sets\u3001Strings\u3001Transactions\u4e00\u517114\u4e2aredis\u547d\u4ee4\u7ec4\u4e24\u767e\u591a\u4e2aredis\u547d\u4ee4\uff0cRedis\u4e2d\u6587\u547d\u4ee4\u5927\u5168\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u68c0\u7d22\u529f\u80fd\u5feb\u901f\u67e5\u627e\u547d\u4ee4\uff0c\u5df2\u4e0b\u662f\u5168\u90e8\u5df2\u77e5\u7684redis\u547d\u4ee4\u5217\u8868\u3002\u5982\u679c\u60a8\u6709\u5174\u8da3\u7684\u8bdd\u4e5f\u53ef\u4ee5\u67e5\u770b\u6211\u4eec\u7684\u7f51\u7ad9\u7ed3\u6784\u56fe,\u5b83\u4ee5\u8282\u70b9\u56fe\u7684\u5f62\u5f0f\u5c55\u793a\u4e86\u6240\u6709redis\u547d\u4ee4\u3002","date":"2022-12-10T00:00:00.000Z","tags":[{"inline":false,"label":"\u4e2d\u95f4\u4ef6","permalink":"/blog/tags/zhongjianjian","description":"\u5173\u4e8e\u4e2d\u95f4\u4ef6\u76f8\u5173\u7684\u8bdd\u9898"},{"inline":false,"label":"Redis","permalink":"/blog/tags/redis","description":"\u5173\u4e8eRedis\u7684\u76f8\u5173\u5185\u5bb9"}],"readingTime":13.02,"hasTruncateMarker":false,"authors":[{"name":"\u5b63\u51a0\u81e3","title":"\u540e\u7aef\u7814\u53d1\u5de5\u7a0b\u5e08","url":"https://github.com/jachen99","page":{"permalink":"/blog/authors/jiguanchen"},"socials":{"github":"https://github.com/jachen99"},"imageURL":"https://github.com/jachen99.png","key":"jiguanchen"}],"frontMatter":{"slug":"talk-about-redis-api","title":"jedis\u5b9e\u64cdredisAPI","authors":["jiguanchen"],"tags":["zhongjianjian","redis"]},"unlisted":false,"prevItem":{"title":"Redis\u7f13\u5b58\u5e38\u89c1\u5f02\u5e38\u53ca\u89e3\u51b3\u65b9\u6848","permalink":"/blog/talk-about-redis-cache-exceptions-and-solutions"},"nextItem":{"title":"SpringMVC\u67b6\u6784\u5b9e\u73b0\u6d41\u7a0b","permalink":"/blog/talk-about-SpringMVC-implementation-process"}}')}}]);